<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../d3.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: row;
        }
        div {
            flex: 1;
            background-color: mediumpurple;
            margin: 1px;
            color: white;
            text-align: center;
        }
    </style>
</head>
<body>
<script>
    /*

     */
    const data = []
    const datum = data => {
        return 20 + data ** 2
    }
    const newData = () => {
        data.push(datum)
        return data
    }
    const render = () => {
        const divs = d3.select('body').selectAll('div').data(newData)
        divs.enter().append('div')
        divs.attr('class', 'v-bar')
            .style('height', (d, i) => {
                return `${d(i)}px`
            })
            .text((d, i) => {
                return d(i)
            })
        divs.exit().remove()
    }
    setInterval(() => {
        render()
    }, 1000)
    render()
</script>
</body>
</html>
