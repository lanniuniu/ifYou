<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../d3.js"></script>
</head>
<body>
<script>
    /*
    d3提供了丰富的数组处理函数
     */
    const data = [3, 2, 11, 7, 6, 4, 10, 8, 15]
    console.log(d3.min(data))
    console.log(d3.max(data))
    console.log(d3.extent(data)) // 同时返回最大和最小
    console.log(d3.sum(data))
    console.log(d3.median(data)) // 返回中位数
    console.log(d3.mean(data)) // 返回平均值
    console.log(data.sort(d3.ascending)) // 升序
    console.log(data.sort(d3.descending)) // 降序
    console.log(d3.quantile(data.sort(d3.ascending), 0.25)) // 排序数组分位数 传入多少分 本例0.25分
    console.log(d3.bisect(data.sort(d3.ascending), 5)) // 返回排序数组一个插入索引 该索引左边都小于等于传参 右边大于传参

    const data2 = [
        {
            width: 2, height: 5
        },
        {
            width: 10, height: 1
        },
        {
            width: 20, height: 15
        },
        {
            width: 6, height: 52
        },
    ]
    const nest = d3.nest().key(d => { // nest() 将一堆数组结构的数据转化为梳妆嵌套结构
        return d.width
    })
        .key(d => { // 使用key()函数创建多层次的嵌套
        return d.height
    })
        .entries(data2)
    console.log(nest) // 提供基于 扁平数组
</script>
</body>
</html>
